CREATE DATABASE DKHP;
USE DKHP;

-- 1. Bảng NguoiDung
CREATE TABLE NguoiDung (
    maNguoiDung VARCHAR(20) PRIMARY KEY,
    tenDangNhap VARCHAR(50) NOT NULL,
    matKhau VARCHAR(50) NOT NULL,
    loaiNguoiDung ENUM('SinhVien', 'GiangVien', 'GiaoVu', 'TruongBoMon', 'QuanTriVien', 'TruongKhoa') NOT NULL
);

-- 2. Bảng ChuyenNganh
CREATE TABLE ChuyenNganh (
    maCN VARCHAR(20) PRIMARY KEY,
    tenCN VARCHAR(100)
);

-- 3. Bảng BoMon
CREATE TABLE BoMon (
    maBM VARCHAR(20) PRIMARY KEY,
    tenBM VARCHAR(100),
    moTa TEXT,
    ngayThanhLap DATE
);

-- 4. Bảng GiangVien
CREATE TABLE GiangVien (
    maGV VARCHAR(20) PRIMARY KEY,
    hoTen VARCHAR(100),
    email VARCHAR(100),
    soDienThoai VARCHAR(20),
    maBM VARCHAR(20),
    hocVi VARCHAR(50),
    hocHam VARCHAR(50),
    chuyenNganh VARCHAR(100),
    chucVu VARCHAR(50),
    FOREIGN KEY (maGV) REFERENCES NguoiDung(maNguoiDung),
    FOREIGN KEY (maBM) REFERENCES BoMon(maBM)
);

-- 5. Bảng Lop
CREATE TABLE Lop (
    maLop VARCHAR(20) PRIMARY KEY,
    tenLop VARCHAR(100),
    maCVHT VARCHAR(20),
    FOREIGN KEY (maCVHT) REFERENCES GiangVien(maGV)
);

-- 6. Bảng MonHoc
CREATE TABLE MonHoc (
    maMH VARCHAR(20) PRIMARY KEY,
    tenMH VARCHAR(100),
    soTinChi INT,
    moTa TEXT,
    loaiMon ENUM('BatBuoc', 'TuChon'),
    hocPhanTienQuyet TEXT,
    soTietLyThuyet INT,
    soTietThucHanh INT
);

-- 7. Bảng LopHocPhan
CREATE TABLE LopHocPhan (
    maLopHP VARCHAR(20) PRIMARY KEY,
    maMH VARCHAR(20),
    namHoc CHAR(9),
    hocKy VARCHAR(10),
    siSoToiDa INT,
    siSoHienTai INT,
    FOREIGN KEY (maMH) REFERENCES MonHoc(maMH)
);

-- 8. Bảng SinhVien
CREATE TABLE SinhVien (
    maSV VARCHAR(20) PRIMARY KEY,
    hoTen VARCHAR(100),
    email VARCHAR(100),
    soDienThoai VARCHAR(20),
    diaChi VARCHAR(255),
    ngaySinh DATE,
    gioiTinh ENUM('Nam', 'Nu', 'Khac'),
    thoiGianNhapHoc DATE,
    trangThai ENUM('Dang hoc','Da tot nghiep','Nghi hoc','Bao luu'),
    maCN VARCHAR(20),
    maLop VARCHAR(20),
    FOREIGN KEY (maSV) REFERENCES NguoiDung(maNguoiDung),
    FOREIGN KEY (maCN) REFERENCES ChuyenNganh(maCN),
    FOREIGN KEY (maLop) REFERENCES Lop(maLop)
);

-- 9. Bảng YeuCauMoLop
CREATE TABLE YeuCauMoLop (
    maYeuCau VARCHAR(20) PRIMARY KEY,
    ngayGui DATE,
    tinhTrangTongQuat ENUM('DaGui', 'DaDuyet', 'TuChoi', 'Huy'),
    trangThaiXuLy ENUM('0_ChuaGui','1_GiaoVuNhan','2_TBMNhan','3_TruongKhoaNhan','4_ChoMoLop') DEFAULT '0_ChuaGui',
    maSV VARCHAR(20),
    maLopHP VARCHAR(20), 
    maMH VARCHAR(20),
    soLuongThamGia INT,
    description TEXT,
    FOREIGN KEY (maSV) REFERENCES SinhVien(maSV),
    FOREIGN KEY (maLopHP) REFERENCES LopHocPhan(maLopHP),
    FOREIGN KEY (maMH) REFERENCES MonHoc(maMH)
);

-- 10. Bảng LichSuThayDoiYeuCau
CREATE TABLE LichSuThayDoiYeuCau (
    maLichSu VARCHAR(20) PRIMARY KEY,
    maYeuCau VARCHAR(20),
    cotTrangThaiCu ENUM('1_GiaoVuNhan', '2_TBMNhan', '3_TKMNhan', '4_ChoMoLop'),
    cotTrangThaiMoi ENUM('1_GiaoVuNhan', '2_TBMNhan', '3_TKMNhan', '4_ChoMoLop'),
    ngayThayDoi DATE,
    nguoiThayDoi VARCHAR(20),
    FOREIGN KEY (maYeuCau) REFERENCES YeuCauMoLop(maYeuCau),
    FOREIGN KEY (nguoiThayDoi) REFERENCES NguoiDung(maNguoiDung)
);

-- 11. Bảng ChuyenNganh_MonHoc
CREATE TABLE ChuyenNganh_MonHoc (
    maCN VARCHAR(20), 
    maMH VARCHAR(20),
    BatBuoc BIT NOT NULL,
    PRIMARY KEY (maCN, maMH),
    FOREIGN KEY (maCN) REFERENCES ChuyenNganh(maCN),
    FOREIGN KEY (maMH) REFERENCES MonHoc(maMH)
);

-- 12. Bảng HocKyChuyenNganh_MonHoc
CREATE TABLE HocKyChuyenNganh_MonHoc (
    maCN VARCHAR(20),
    maMH VARCHAR(20),
    hocKy INT,
    PRIMARY KEY (maCN, maMH),
    FOREIGN KEY (maCN) REFERENCES ChuyenNganh(maCN),
    FOREIGN KEY (maMH) REFERENCES MonHoc(maMH)
);

-- 13. Bảng SinhVien_MonHoc
CREATE TABLE SinhVien_MonHoc (
    maSV VARCHAR(20),
    maMH VARCHAR(20),
    maLopHP VARCHAR(20),
    ngayDangKy DATE,
    PRIMARY KEY (maSV, maMH, maLopHP),
    FOREIGN KEY (maSV) REFERENCES SinhVien(maSV),
    FOREIGN KEY (maMH) REFERENCES MonHoc(maMH),
    FOREIGN KEY (maLopHP) REFERENCES LopHocPhan(maLopHP)
);

-- 14. Bảng ThoiKhoaBieu
CREATE TABLE ThoiKhoaBieu (
    maTKB VARCHAR(20) PRIMARY KEY,
    ngayHoc DATE,
    tietBD VARCHAR(10),
    tietKT VARCHAR(10),
    maLopHP VARCHAR(20),
    phongHoc VARCHAR(50),
    maSV VARCHAR(20),
    maGV VARCHAR(20),
    FOREIGN KEY (maSV) REFERENCES SinhVien(maSV),
    FOREIGN KEY (maGV) REFERENCES GiangVien(maGV),
    FOREIGN KEY (maLopHP) REFERENCES LopHocPhan(maLopHP)
);

-- 15. Bảng BangTin
CREATE TABLE BangTin (
    maThongBao VARCHAR(20) PRIMARY KEY,
    tieuDe VARCHAR(255),
    noiDung TEXT,
    ngayDang DATE,
    nguoiDang VARCHAR(20),
    loaiNguoiDung ENUM('SinhVien', 'GiangVien', 'TatCa'),
    FOREIGN KEY (nguoiDang) REFERENCES NguoiDung(maNguoiDung)
);

-- 16. Bảng DangKyLichDay
CREATE TABLE DangKyLichDay (
    maDangKy VARCHAR(20) PRIMARY KEY,
    maGV VARCHAR(20),
    maLopHP VARCHAR(20),
    ngayDangKy DATE,
    trangThai ENUM('ChoDuyet', 'ChapNhan', 'TuChoi'),
    FOREIGN KEY (maGV) REFERENCES GiangVien(maGV),
    FOREIGN KEY (maLopHP) REFERENCES LopHocPhan(maLopHP)
);

-- 17. Bảng XuLyYeuCau
CREATE TABLE XuLyYeuCau (
    maXuLy VARCHAR(20) PRIMARY KEY,
    maYeuCau VARCHAR(20),
    vaiTroNguoiXuLy ENUM('GiaoVu', 'TruongBoMon', 'TruongKhoa'),
    nguoiXuLy VARCHAR(20),
    ngayXuLy DATE,
    trangThai ENUM('ChuyenTiep', 'DongY', 'TuChoi'),
    ghiChu TEXT,
    FOREIGN KEY (maYeuCau) REFERENCES YeuCauMoLop(maYeuCau),
    FOREIGN KEY (nguoiXuLy) REFERENCES NguoiDung(maNguoiDung)
);

-- 18. Bảng PhanCongGiangVien
CREATE TABLE PhanCongGiangVien (
    maPhanCong VARCHAR(20) PRIMARY KEY,
    maGV VARCHAR(20),
    maLopHP VARCHAR(20),
    ngayPhanCong DATE,
    FOREIGN KEY (maGV) REFERENCES GiangVien(maGV),
    FOREIGN KEY (maLopHP) REFERENCES LopHocPhan(maLopHP)
);

INSERT INTO NguoiDung VALUES('2001215601','2001215601','pwd123','SinhVien');
INSERT INTO NguoiDung VALUES('2001215682','2001215682','123','SinhVien');
INSERT INTO NguoiDung VALUES('2001215602','2001215602','pwd123','SinhVien');
INSERT INTO NguoiDung VALUES('2001215603','2001215603','pwd123','SinhVien');
INSERT INTO NguoiDung VALUES('2001215604','2001215604','pwd123','SinhVien');
INSERT INTO NguoiDung VALUES('2001215605','2001215605','pwd123','SinhVien');
INSERT INTO NguoiDung VALUES('2001215606','2001215606','pwd123','SinhVien');
INSERT INTO NguoiDung VALUES('2001215607','2001215607','pwd123','SinhVien');
INSERT INTO NguoiDung VALUES('2001215608','2001215608','pwd123','SinhVien');
INSERT INTO NguoiDung VALUES('2001215609','2001215609','pwd123','SinhVien');
INSERT INTO NguoiDung VALUES('2001215610','2001215610','pwd123','SinhVien');
INSERT INTO NguoiDung VALUES('2001215611','2001215611','pwd123','SinhVien');
INSERT INTO NguoiDung VALUES('2001215612','2001215612','pwd123','SinhVien');
INSERT INTO NguoiDung VALUES('2001215613','2001215613','pwd123','SinhVien');
INSERT INTO NguoiDung VALUES('2001215614','2001215614','pwd123','SinhVien');
INSERT INTO NguoiDung VALUES('2001215615','2001215615','pwd123','SinhVien');
INSERT INTO NguoiDung VALUES('2001215616','2001215616','pwd123','SinhVien');
INSERT INTO NguoiDung VALUES('2001215617','2001215617','pwd123','SinhVien');
INSERT INTO NguoiDung VALUES('2001215618','2001215618','pwd123','SinhVien');
INSERT INTO NguoiDung VALUES('2001215619','2001215619','pwd123','SinhVien');
INSERT INTO NguoiDung VALUES('2001215620','2001215620','pwd123','SinhVien');
INSERT INTO NguoiDung VALUES('2001215621','2001215621','pwd123','SinhVien');
INSERT INTO NguoiDung VALUES('2001215622','2001215622','pwd123','SinhVien');
INSERT INTO NguoiDung VALUES('2001215623','2001215623','pwd123','SinhVien');
INSERT INTO NguoiDung VALUES('2001215624','2001215624','pwd123','SinhVien');
INSERT INTO NguoiDung VALUES('2001215625','2001215625','pwd123','SinhVien');
INSERT INTO NguoiDung VALUES('2001215626','2001215626','pwd123','SinhVien');
INSERT INTO NguoiDung VALUES('2001215627','2001215627','pwd123','SinhVien');
INSERT INTO NguoiDung VALUES('2001215628','2001215628','pwd123','SinhVien');
INSERT INTO NguoiDung VALUES('2001215629','2001215629','pwd123','SinhVien');
INSERT INTO NguoiDung VALUES('2001215630','2001215630','pwd123','SinhVien');
INSERT INTO NguoiDung VALUES('GV01','anhnt','pwdGV','TruongKhoa');
INSERT INTO NguoiDung VALUES('GV02','binhtv','pwdGV','TruongBoMon');
INSERT INTO NguoiDung VALUES('GV03','chaulm','pwdGV','GiangVien');
INSERT INTO NguoiDung VALUES('GV04','dungpt','pwdGV','GiangVien');
INSERT INTO NguoiDung VALUES('GV05','daihq','pwdGV','GiangVien');
INSERT INTO NguoiDung VALUES('GV06','hongvt','pwdGV','GiaoVu');
INSERT INTO NguoiDung VALUES('AD01','admin1','adminpass','QuanTriVien');


INSERT INTO ChuyenNganh VALUES('CNPM', 'Công nghệ phần mềm');
INSERT INTO ChuyenNganh VALUES('HTTT', 'Hệ thống thông tin');
INSERT INTO ChuyenNganh VALUES('KHDL', 'Khoa học dữ liệu');
INSERT INTO ChuyenNganh VALUES('MMT', 'Mạng máy tính');


INSERT INTO BoMon (maBM, tenBM, moTa, ngayThanhLap) VALUES
('BM_CNPM', 'Bộ môn Công nghệ phần mềm', 'Phụ trách giảng dạy và nghiên cứu về phát triển phần mềm, kỹ thuật phần mềm.', '2005-09-01'),
('BM_HTTT', 'Bộ môn Hệ thống thông tin', 'Phụ trách các môn học liên quan đến hệ thống thông tin, cơ sở dữ liệu, phân tích thiết kế.', '2006-03-15'),
('BM_KHDL', 'Bộ môn Khoa học dữ liệu', 'Chuyên về dữ liệu lớn, khai phá dữ liệu, học máy, AI.', '2012-05-20'),
('BM_MMT', 'Bộ môn Mạng máy tính', 'Chuyên giảng dạy và nghiên cứu về mạng máy tính, mạng truyền thông, bảo mật.', '2007-10-10');


INSERT INTO GiangVien (maGV, hoTen, email, soDienThoai, maBM, hocVi, hocHam, chuyenNganh, chucVu) VALUES
('GV01','Nguyễn Thị Ánh','GV01@huit.edu.vn','0977000001','BM_KHDL','TS','Trưởng Khoa','Khoa học dữ liệu','TruongKhoa'),
('GV02','Trần Văn Bình','GV02@huit.edu.vn','0977000002','BM_HTTT','ThS','Trưởng Bộ Môn','Bộ môn Hệ thống thông tin','TruongBoMon'),
('GV03','Lê Minh Châu','GV03@huit.edu.vn','0977000003','BM_KHDL','TS','','Khoa học dữ liệu','GiangVien'),
('GV04','Phạm Thị Dung','GV04@huit.edu.vn','0977000004','BM_KHDL','ThS','','Khoa học dữ liệu','GiangVien'),
('GV05','Hoàng Quốc Đại','GV05@huit.edu.vn','0977000005','BM_KHDL','TS','','Khoa học dữ liệu','GiangVien'),
('GV06','Võ Thị Hồng','GV06@huit.edu.vn','0977000006','BM_MMT','ThS','','Mạng máy tính','GiaoVu');


INSERT INTO Lop (maLop, tenLop, maCVHT) VALUES
('12DHTH10', '12DHTH10', 'GV01'),
('12DHTH11', '12DHTH11', 'GV02'),
('12DHTH12', '12DHTH12', 'GV03');


INSERT INTO MonHoc (maMH, tenMH, soTinChi, moTa, loaiMon, hocPhanTienQuyet, soTietLyThuyet, soTietThucHanh) VALUES
('MH01','Lập Trình C',3,'Học các khái niệm lập trình căn bản với ngôn ngữ C.','BatBuoc','',30,15),
('MH02','Cấu Trúc Dữ Liệu',3,'Nắm bắt các cấu trúc dữ liệu cơ bản như danh sách, cây, đồ thị.','BatBuoc','',30,15),
('MH03','Cơ Sở Dữ Liệu',3,'Giới thiệu về hệ quản trị CSDL và truy vấn SQL.','BatBuoc','',30,15),
('MH04','Mạng Máy Tính',3,'Cung cấp kiến thức về mạng máy tính và giao thức.','BatBuoc','',30,15),
('MH05','Toán Rời Rạc',2,'Trang bị kiến thức toán học ứng dụng trong CNTT.','BatBuoc','',30,0),
('MH06','Lập Trình Java',3,'Lập trình hướng đối tượng sử dụng Java.','BatBuoc','',30,15),
('MH07','Trí Tuệ Nhân Tạo',3,'Giới thiệu các thuật toán AI và ứng dụng.','BatBuoc','',30,15),
('MH08','Phân Tích Dữ Liệu',2,'Phân tích và trực quan hóa dữ liệu.','BatBuoc','',15,15);

INSERT INTO LopHocPhan VALUES
('LHP01','MH01','2024-2025','HK1',50,0),
('LHP02','MH02','2024-2025','HK1',50,0),
('LHP03','MH03','2024-2025','HK1',50,0),
('LHP04','MH04','2024-2025','HK1',50,0),
('LHP05','MH05','2024-2025','HK1',50,0),
('LHP06','MH06','2024-2025','HK1',50,0),
('LHP07','MH07','2024-2025','HK1',50,0),
('LHP08','MH08','2024-2025','HK1',50,0);

INSERT INTO SinhVien VALUES ('2001215601','Nguyễn Văn Hải','2001215601@huit.edu.vn','0912314421','Long An','2004-08-22','Nu','2020-09-01','Dang hoc','CNPM','12DHTH10');
INSERT INTO SinhVien VALUES ('2001215682','Võ Nguyễn Hữu Duy','huuduy.study@gmail.com','0912314421','Long An','2004-08-22','Nam','2020-09-01','Dang hoc','CNPM','12DHTH10');
INSERT INTO SinhVien VALUES ('2001215602','Trần Thị Lan','2001215602@huit.edu.vn','0912337391','TP.HCM','2004-03-14','Nu','2020-09-01','Dang hoc','HTTT','12DHTH11');
INSERT INTO SinhVien VALUES ('2001215603','Lê Minh Hoàng','2001215603@huit.edu.vn','0912335981','Bình Dương','2004-05-07','Nu','2021-09-01','Dang hoc','KHDL','12DHTH11');
INSERT INTO SinhVien VALUES ('2001215604','Phạm Thị Hương','2001215604@huit.edu.vn','0912326259','Long An','2004-06-13','Nam','2022-09-01','Dang hoc','MMT','12DHTH12');
INSERT INTO SinhVien VALUES ('2001215605','Hoàng Văn Dũng','2001215605@huit.edu.vn','0912340597','Long An','2002-08-16','Nu','2020-09-01','Dang hoc','CNPM','12DHTH10');
INSERT INTO SinhVien VALUES ('2001215606','Vũ Thị Mai','2001215606@huit.edu.vn','0912330933','TP.HCM','2004-07-09','Nu','2022-09-01','Dang hoc','HTTT','12DHTH11');
INSERT INTO SinhVien VALUES ('2001215607','Đỗ Văn Quân','2001215607@huit.edu.vn','0912321236','TP.HCM','2003-01-12','Nu','2021-09-01','Dang hoc','KHDL','12DHTH11');
INSERT INTO SinhVien VALUES ('2001215608','Đặng Thị Phương','2001215608@huit.edu.vn','0912326666','TP.HCM','2002-04-05','Nam','2020-09-01','Dang hoc','MMT','12DHTH12');
INSERT INTO SinhVien VALUES ('2001215609','Bùi Văn Tú','2001215609@huit.edu.vn','0912384395','Bình Dương','2004-06-02','Nu','2023-09-01','Dang hoc','CNPM','12DHTH10');
INSERT INTO SinhVien VALUES ('2001215610','Phan Thị Ngọc','2001215610@huit.edu.vn','0912349603','Bình Dương','2003-08-15','Nam','2021-09-01','Dang hoc','HTTT','12DHTH11');
INSERT INTO SinhVien VALUES ('2001215611','Trương Minh Triết','2001215611@huit.edu.vn','0912371955','Đồng Nai','2004-08-31','Nu','2022-09-01','Dang hoc','KHDL','12DHTH11');
INSERT INTO SinhVien VALUES ('2001215612','Lý Thị Thanh','2001215612@huit.edu.vn','0912396307','TP.HCM','2002-05-28','Nu','2020-09-01','Dang hoc','MMT','12DHTH12');
INSERT INTO SinhVien VALUES ('2001215613','Hồ Văn Lộc','2001215613@huit.edu.vn','0912395681','Đồng Nai','2004-02-01','Nam','2022-09-01','Dang hoc','CNPM','12DHTH10');
INSERT INTO SinhVien VALUES ('2001215614','Ngô Thị Kim','2001215614@huit.edu.vn','0912362970','Bình Dương','2004-05-08','Nu','2022-09-01','Dang hoc','HTTT','12DHTH11');
INSERT INTO SinhVien VALUES ('2001215615','Dương Văn Khánh','2001215615@huit.edu.vn','0912368278','TP.HCM','2002-11-01','Nam','2020-09-01','Dang hoc','KHDL','12DHTH11');
INSERT INTO SinhVien VALUES ('2001215616','Đinh Thị Ngân','2001215616@huit.edu.vn','0912395725','TP.HCM','2002-03-17','Nu','2020-09-01','Dang hoc','MMT','12DHTH12');
INSERT INTO SinhVien VALUES ('2001215617','Vương Minh Đức','2001215617@huit.edu.vn','0912316908','Đồng Nai','2002-06-27','Nu','2020-09-01','Dang hoc','CNPM','12DHTH10');
INSERT INTO SinhVien VALUES ('2001215618','Hà Thị Mỹ','2001215618@huit.edu.vn','0912391443','Đồng Nai','2003-01-06','Nam','2021-09-01','Dang hoc','HTTT','12DHTH11');
INSERT INTO SinhVien VALUES ('2001215619','Phùng Văn Tiến','2001215619@huit.edu.vn','0912346617','Đồng Nai','2003-02-07','Nu','2021-09-01','Dang hoc','KHDL','12DHTH11');
INSERT INTO SinhVien VALUES ('2001215620','Mai Thị Phương','2001215620@huit.edu.vn','0912333825','Long An','2003-04-30','Nam','2021-09-01','Dang hoc','MMT','12DHTH12');
INSERT INTO SinhVien VALUES ('2001215621','Tạ Văn Khoa','2001215621@huit.edu.vn','0912363916','TP.HCM','2004-08-30','Nu','2023-09-01','Dang hoc','CNPM','12DHTH10');
INSERT INTO SinhVien VALUES ('2001215622','Phùng Thị Thu','2001215622@huit.edu.vn','0912317652','Bình Dương','2002-08-13','Nam','2020-09-01','Dang hoc','HTTT','12DHTH11');
INSERT INTO SinhVien VALUES ('2001215623','Trịnh Văn Tài','2001215623@huit.edu.vn','0912310246','Bình Dương','2003-07-22','Nu','2021-09-01','Dang hoc','KHDL','12DHTH11');
INSERT INTO SinhVien VALUES ('2001215624','Chu Thị Ánh','2001215624@huit.edu.vn','0912370145','Đồng Nai','2002-12-11','Nam','2020-09-01','Dang hoc','MMT','12DHTH12');
INSERT INTO SinhVien VALUES ('2001215625','Nguyễn Thị Thanh','2001215625@huit.edu.vn','0912393780','Bình Dương','2003-12-16','Nu','2021-09-01','Dang hoc','CNPM','12DHTH10');
INSERT INTO SinhVien VALUES ('2001215626','Lê Thị Phúc','2001215626@huit.edu.vn','0912329101','Bình Dương','2002-09-18','Nam','2020-09-01','Dang hoc','HTTT','12DHTH11');
INSERT INTO SinhVien VALUES ('2001215627','Trần Văn Sơn','2001215627@huit.edu.vn','0912347961','TP.HCM','2002-08-25','Nu','2020-09-01','Dang hoc','KHDL','12DHTH11');
INSERT INTO SinhVien VALUES ('2001215628','Phạm Minh Châu','2001215628@huit.edu.vn','0912394259','Bình Dương','2004-08-10','Nam','2023-09-01','Dang hoc','MMT','12DHTH12');
INSERT INTO SinhVien VALUES ('2001215629','Võ Thị Bích','2001215629@huit.edu.vn','0912372174','Long An','2002-02-12','Nu','2020-09-01','Dang hoc','CNPM','12DHTH10');
INSERT INTO SinhVien VALUES ('2001215630','Huỳnh Văn Bình','2001215630@huit.edu.vn','0912385273','Đồng Nai','2004-05-13','Nu','2022-09-01','Dang hoc','HTTT','12DHTH11');

INSERT INTO YeuCauMoLop VALUES
('YC001', '2025-01-06', 'DaGui', '1_GiaoVuNhan', '2001215601', 'LHP01', 'MH01', 35, 'Yêu cầu mở lớp bổ sung'),
('YC002', '2025-01-07', 'TuChoi', '3_TruongKhoaNhan', '2001215602', 'LHP02', 'MH02', 20, 'Môn chuyên ngành bị trùng lịch'),
('YC003', '2025-01-08', 'DaGui', '2_TBMNhan', '2001215603', 'LHP03', 'MH03', 30, 'Lớp học phần cần thiết cho tiến độ học tập'),
('YC004', '2025-01-09', 'TuChoi', '2_TBMNhan', '2001215604', 'LHP04', 'MH04', 18, 'Không đủ số lượng đăng ký'),
('YC005', '2025-01-10', 'DaDuyet', '4_ChoMoLop', '2001215605', 'LHP05', 'MH05', 45, 'Lớp đã được duyệt mở');


-- Insert into SinhVien_MonHoc
INSERT INTO SinhVien_MonHoc VALUES('2001215601','MH06','LHP06','2025-02-04');
INSERT INTO SinhVien_MonHoc VALUES('2001215601','MH04','LHP04','2025-01-24');
INSERT INTO SinhVien_MonHoc VALUES('2001215601','MH03','LHP03','2025-01-22');
INSERT INTO SinhVien_MonHoc VALUES('2001215601','MH01','LHP01','2025-01-23');
INSERT INTO SinhVien_MonHoc VALUES('2001215602','MH03','LHP03','2025-01-13');
INSERT INTO SinhVien_MonHoc VALUES('2001215602','MH04','LHP04','2025-01-17');
INSERT INTO SinhVien_MonHoc VALUES('2001215602','MH01','LHP01','2025-01-26');
INSERT INTO SinhVien_MonHoc VALUES('2001215602','MH05','LHP05','2025-01-19');
INSERT INTO SinhVien_MonHoc VALUES('2001215602','MH06','LHP06','2025-01-24');
INSERT INTO SinhVien_MonHoc VALUES('2001215602','MH07','LHP07','2025-02-07');
INSERT INTO SinhVien_MonHoc VALUES('2001215603','MH04','LHP04','2025-01-25');
INSERT INTO SinhVien_MonHoc VALUES('2001215603','MH02','LHP02','2025-02-01');
INSERT INTO SinhVien_MonHoc VALUES('2001215603','MH03','LHP03','2025-01-16');
INSERT INTO SinhVien_MonHoc VALUES('2001215603','MH06','LHP06','2025-01-29');
INSERT INTO SinhVien_MonHoc VALUES('2001215603','MH07','LHP07','2025-01-30');
INSERT INTO SinhVien_MonHoc VALUES('2001215603','MH08','LHP08','2025-01-23');
INSERT INTO SinhVien_MonHoc VALUES('2001215604','MH04','LHP04','2025-02-08');
INSERT INTO SinhVien_MonHoc VALUES('2001215604','MH02','LHP02','2025-02-07');
INSERT INTO SinhVien_MonHoc VALUES('2001215604','MH01','LHP01','2025-01-12');
INSERT INTO SinhVien_MonHoc VALUES('2001215604','MH07','LHP07','2025-02-06');
INSERT INTO SinhVien_MonHoc VALUES('2001215605','MH03','LHP03','2025-02-06');
INSERT INTO SinhVien_MonHoc VALUES('2001215605','MH04','LHP04','2025-01-20');
INSERT INTO SinhVien_MonHoc VALUES('2001215605','MH02','LHP02','2025-02-08');
INSERT INTO SinhVien_MonHoc VALUES('2001215605','MH08','LHP08','2025-01-21');
INSERT INTO SinhVien_MonHoc VALUES('2001215606','MH03','LHP03','2025-01-20');
INSERT INTO SinhVien_MonHoc VALUES('2001215606','MH04','LHP04','2025-01-21');
INSERT INTO SinhVien_MonHoc VALUES('2001215606','MH06','LHP06','2025-01-24');
INSERT INTO SinhVien_MonHoc VALUES('2001215606','MH08','LHP08','2025-02-02');
INSERT INTO SinhVien_MonHoc VALUES('2001215607','MH06','LHP06','2025-01-14');
INSERT INTO SinhVien_MonHoc VALUES('2001215607','MH08','LHP08','2025-01-27');
INSERT INTO SinhVien_MonHoc VALUES('2001215607','MH04','LHP04','2025-01-24');
INSERT INTO SinhVien_MonHoc VALUES('2001215607','MH05','LHP05','2025-01-24');
INSERT INTO SinhVien_MonHoc VALUES('2001215608','MH06','LHP06','2025-01-10');
INSERT INTO SinhVien_MonHoc VALUES('2001215608','MH01','LHP01','2025-01-11');
INSERT INTO SinhVien_MonHoc VALUES('2001215608','MH07','LHP07','2025-01-20');
INSERT INTO SinhVien_MonHoc VALUES('2001215608','MH04','LHP04','2025-01-27');
INSERT INTO SinhVien_MonHoc VALUES('2001215608','MH08','LHP08','2025-01-22');
INSERT INTO SinhVien_MonHoc VALUES('2001215609','MH06','LHP06','2025-01-20');
INSERT INTO SinhVien_MonHoc VALUES('2001215609','MH02','LHP02','2025-01-22');
INSERT INTO SinhVien_MonHoc VALUES('2001215609','MH05','LHP05','2025-02-01');
INSERT INTO SinhVien_MonHoc VALUES('2001215609','MH03','LHP03','2025-01-12');
INSERT INTO SinhVien_MonHoc VALUES('2001215609','MH04','LHP04','2025-01-30');
INSERT INTO SinhVien_MonHoc VALUES('2001215610','MH03','LHP03','2025-01-25');
INSERT INTO SinhVien_MonHoc VALUES('2001215610','MH08','LHP08','2025-01-22');
INSERT INTO SinhVien_MonHoc VALUES('2001215610','MH07','LHP07','2025-02-02');
INSERT INTO SinhVien_MonHoc VALUES('2001215610','MH01','LHP01','2025-01-18');
INSERT INTO SinhVien_MonHoc VALUES('2001215611','MH07','LHP07','2025-01-31');
INSERT INTO SinhVien_MonHoc VALUES('2001215611','MH06','LHP06','2025-01-26');
INSERT INTO SinhVien_MonHoc VALUES('2001215611','MH03','LHP03','2025-01-13');
INSERT INTO SinhVien_MonHoc VALUES('2001215611','MH04','LHP04','2025-02-04');
INSERT INTO SinhVien_MonHoc VALUES('2001215612','MH08','LHP08','2025-02-06');
INSERT INTO SinhVien_MonHoc VALUES('2001215612','MH01','LHP01','2025-01-30');
INSERT INTO SinhVien_MonHoc VALUES('2001215612','MH05','LHP05','2025-02-07');
INSERT INTO SinhVien_MonHoc VALUES('2001215612','MH03','LHP03','2025-02-06');
INSERT INTO SinhVien_MonHoc VALUES('2001215612','MH04','LHP04','2025-01-23');
INSERT INTO SinhVien_MonHoc VALUES('2001215612','MH06','LHP06','2025-01-18');
INSERT INTO SinhVien_MonHoc VALUES('2001215613','MH08','LHP08','2025-01-13');
INSERT INTO SinhVien_MonHoc VALUES('2001215613','MH05','LHP05','2025-01-15');
INSERT INTO SinhVien_MonHoc VALUES('2001215613','MH03','LHP03','2025-02-06');
INSERT INTO SinhVien_MonHoc VALUES('2001215613','MH02','LHP02','2025-01-23');
INSERT INTO SinhVien_MonHoc VALUES('2001215613','MH06','LHP06','2025-02-03');
INSERT INTO SinhVien_MonHoc VALUES('2001215613','MH04','LHP04','2025-02-01');
INSERT INTO SinhVien_MonHoc VALUES('2001215614','MH07','LHP07','2025-01-27');
INSERT INTO SinhVien_MonHoc VALUES('2001215614','MH02','LHP02','2025-01-16');
INSERT INTO SinhVien_MonHoc VALUES('2001215614','MH05','LHP05','2025-01-15');
INSERT INTO SinhVien_MonHoc VALUES('2001215614','MH06','LHP06','2025-01-22');
INSERT INTO SinhVien_MonHoc VALUES('2001215614','MH04','LHP04','2025-02-08');
INSERT INTO SinhVien_MonHoc VALUES('2001215615','MH06','LHP06','2025-01-22');
INSERT INTO SinhVien_MonHoc VALUES('2001215615','MH02','LHP02','2025-02-03');
INSERT INTO SinhVien_MonHoc VALUES('2001215615','MH03','LHP03','2025-01-30');
INSERT INTO SinhVien_MonHoc VALUES('2001215615','MH05','LHP05','2025-01-15');
INSERT INTO SinhVien_MonHoc VALUES('2001215615','MH08','LHP08','2025-02-03');
INSERT INTO SinhVien_MonHoc VALUES('2001215616','MH04','LHP04','2025-01-12');
INSERT INTO SinhVien_MonHoc VALUES('2001215616','MH02','LHP02','2025-02-08');
INSERT INTO SinhVien_MonHoc VALUES('2001215616','MH03','LHP03','2025-02-07');
INSERT INTO SinhVien_MonHoc VALUES('2001215616','MH05','LHP05','2025-01-17');
INSERT INTO SinhVien_MonHoc VALUES('2001215616','MH01','LHP01','2025-01-25');
INSERT INTO SinhVien_MonHoc VALUES('2001215617','MH08','LHP08','2025-02-08');
INSERT INTO SinhVien_MonHoc VALUES('2001215617','MH03','LHP03','2025-01-17');
INSERT INTO SinhVien_MonHoc VALUES('2001215617','MH05','LHP05','2025-01-22');
INSERT INTO SinhVien_MonHoc VALUES('2001215617','MH06','LHP06','2025-01-24');
INSERT INTO SinhVien_MonHoc VALUES('2001215618','MH03','LHP03','2025-02-01');
INSERT INTO SinhVien_MonHoc VALUES('2001215618','MH01','LHP01','2025-02-06');
INSERT INTO SinhVien_MonHoc VALUES('2001215618','MH06','LHP06','2025-02-05');
INSERT INTO SinhVien_MonHoc VALUES('2001215618','MH02','LHP02','2025-01-28');
INSERT INTO SinhVien_MonHoc VALUES('2001215618','MH04','LHP04','2025-02-04');
INSERT INTO SinhVien_MonHoc VALUES('2001215618','MH07','LHP07','2025-01-22');
INSERT INTO SinhVien_MonHoc VALUES('2001215619','MH03','LHP03','2025-02-04');
INSERT INTO SinhVien_MonHoc VALUES('2001215619','MH01','LHP01','2025-01-21');
INSERT INTO SinhVien_MonHoc VALUES('2001215619','MH02','LHP02','2025-02-09');
INSERT INTO SinhVien_MonHoc VALUES('2001215619','MH06','LHP06','2025-01-25');
INSERT INTO SinhVien_MonHoc VALUES('2001215619','MH05','LHP05','2025-02-05');
INSERT INTO SinhVien_MonHoc VALUES('2001215619','MH07','LHP07','2025-02-07');
INSERT INTO SinhVien_MonHoc VALUES('2001215620','MH06','LHP06','2025-01-22');
INSERT INTO SinhVien_MonHoc VALUES('2001215620','MH07','LHP07','2025-01-14');
INSERT INTO SinhVien_MonHoc VALUES('2001215620','MH01','LHP01','2025-01-16');
INSERT INTO SinhVien_MonHoc VALUES('2001215620','MH08','LHP08','2025-01-28');
INSERT INTO SinhVien_MonHoc VALUES('2001215621','MH06','LHP06','2025-01-19');
INSERT INTO SinhVien_MonHoc VALUES('2001215621','MH04','LHP04','2025-02-05');
INSERT INTO SinhVien_MonHoc VALUES('2001215621','MH05','LHP05','2025-01-30');
INSERT INTO SinhVien_MonHoc VALUES('2001215621','MH07','LHP07','2025-01-28');
INSERT INTO SinhVien_MonHoc VALUES('2001215622','MH08','LHP08','2025-01-28');
INSERT INTO SinhVien_MonHoc VALUES('2001215622','MH02','LHP02','2025-02-08');
INSERT INTO SinhVien_MonHoc VALUES('2001215622','MH03','LHP03','2025-02-07');
INSERT INTO SinhVien_MonHoc VALUES('2001215622','MH05','LHP05','2025-02-04');
INSERT INTO SinhVien_MonHoc VALUES('2001215622','MH04','LHP04','2025-02-09');
INSERT INTO SinhVien_MonHoc VALUES('2001215622','MH01','LHP01','2025-01-17');
INSERT INTO SinhVien_MonHoc VALUES('2001215623','MH01','LHP01','2025-02-07');
INSERT INTO SinhVien_MonHoc VALUES('2001215623','MH08','LHP08','2025-02-09');
INSERT INTO SinhVien_MonHoc VALUES('2001215623','MH05','LHP05','2025-02-05');
INSERT INTO SinhVien_MonHoc VALUES('2001215623','MH04','LHP04','2025-01-28');
INSERT INTO SinhVien_MonHoc VALUES('2001215624','MH02','LHP02','2025-01-26');
INSERT INTO SinhVien_MonHoc VALUES('2001215624','MH08','LHP08','2025-01-31');
INSERT INTO SinhVien_MonHoc VALUES('2001215624','MH05','LHP05','2025-02-09');
INSERT INTO SinhVien_MonHoc VALUES('2001215624','MH07','LHP07','2025-01-13');
INSERT INTO SinhVien_MonHoc VALUES('2001215625','MH05','LHP05','2025-01-23');
INSERT INTO SinhVien_MonHoc VALUES('2001215625','MH08','LHP08','2025-02-04');
INSERT INTO SinhVien_MonHoc VALUES('2001215625','MH01','LHP01','2025-01-16');
INSERT INTO SinhVien_MonHoc VALUES('2001215625','MH04','LHP04','2025-02-07');
INSERT INTO SinhVien_MonHoc VALUES('2001215625','MH07','LHP07','2025-02-06');
INSERT INTO SinhVien_MonHoc VALUES('2001215625','MH03','LHP03','2025-01-10');
INSERT INTO SinhVien_MonHoc VALUES('2001215626','MH04','LHP04','2025-02-09');
INSERT INTO SinhVien_MonHoc VALUES('2001215626','MH01','LHP01','2025-02-07');
INSERT INTO SinhVien_MonHoc VALUES('2001215626','MH02','LHP02','2025-01-30');
INSERT INTO SinhVien_MonHoc VALUES('2001215626','MH06','LHP06','2025-01-29');
INSERT INTO SinhVien_MonHoc VALUES('2001215626','MH08','LHP08','2025-02-02');
INSERT INTO SinhVien_MonHoc VALUES('2001215627','MH04','LHP04','2025-01-21');
INSERT INTO SinhVien_MonHoc VALUES('2001215627','MH07','LHP07','2025-02-05');
INSERT INTO SinhVien_MonHoc VALUES('2001215627','MH06','LHP06','2025-01-14');
INSERT INTO SinhVien_MonHoc VALUES('2001215627','MH01','LHP01','2025-02-09');
INSERT INTO SinhVien_MonHoc VALUES('2001215627','MH02','LHP02','2025-02-01');
INSERT INTO SinhVien_MonHoc VALUES('2001215627','MH08','LHP08','2025-01-20');
INSERT INTO SinhVien_MonHoc VALUES('2001215628','MH08','LHP08','2025-01-19');
INSERT INTO SinhVien_MonHoc VALUES('2001215628','MH04','LHP04','2025-01-23');
INSERT INTO SinhVien_MonHoc VALUES('2001215628','MH06','LHP06','2025-01-30');
INSERT INTO SinhVien_MonHoc VALUES('2001215628','MH05','LHP05','2025-01-13');
INSERT INTO SinhVien_MonHoc VALUES('2001215628','MH07','LHP07','2025-02-07');
INSERT INTO SinhVien_MonHoc VALUES('2001215629','MH01','LHP01','2025-01-30');
INSERT INTO SinhVien_MonHoc VALUES('2001215629','MH06','LHP06','2025-01-13');
INSERT INTO SinhVien_MonHoc VALUES('2001215629','MH02','LHP02','2025-01-28');
INSERT INTO SinhVien_MonHoc VALUES('2001215629','MH03','LHP03','2025-01-28');
INSERT INTO SinhVien_MonHoc VALUES('2001215629','MH07','LHP07','2025-02-03');
INSERT INTO SinhVien_MonHoc VALUES('2001215629','MH08','LHP08','2025-02-03');
INSERT INTO SinhVien_MonHoc VALUES('2001215630','MH07','LHP07','2025-02-02');
INSERT INTO SinhVien_MonHoc VALUES('2001215630','MH03','LHP03','2025-02-06');
INSERT INTO SinhVien_MonHoc VALUES('2001215630','MH01','LHP01','2025-02-04');
INSERT INTO SinhVien_MonHoc VALUES('2001215630','MH05','LHP05','2025-02-06');

-- Insert into ThoiKhoaBieu
INSERT INTO ThoiKhoaBieu VALUES('TK0101','2025-02-03','Tiet4','Tiet6','LHP07','C303','2001215601','GV06');
INSERT INTO ThoiKhoaBieu VALUES('TK0102','2025-02-05','Tiet3','Tiet5','LHP06','B202','2001215601','GV06');
INSERT INTO ThoiKhoaBieu VALUES('TK0103','2025-02-06','Tiet4','Tiet6','LHP01','C303','2001215601','GV03');
INSERT INTO ThoiKhoaBieu VALUES('TK0104','2025-02-07','Tiet3','Tiet5','LHP05','C303','2001215601','GV01');
INSERT INTO ThoiKhoaBieu VALUES('TK0201','2025-02-03','Tiet3','Tiet5','LHP07','E505','2001215602','GV05');
INSERT INTO ThoiKhoaBieu VALUES('TK0202','2025-02-05','Tiet4','Tiet6','LHP03','C303','2001215602','GV01');
INSERT INTO ThoiKhoaBieu VALUES('TK0203','2025-02-06','Tiet5','Tiet7','LHP04','B202','2001215602','GV04');
INSERT INTO ThoiKhoaBieu VALUES('TK0204','2025-02-07','Tiet2','Tiet4','LHP03','A101','2001215602','GV06');
INSERT INTO ThoiKhoaBieu VALUES('TK0301','2025-02-03','Tiet5','Tiet7','LHP05','D404','2001215603','GV05');
INSERT INTO ThoiKhoaBieu VALUES('TK0302','2025-02-05','Tiet3','Tiet5','LHP05','A101','2001215603','GV01');
INSERT INTO ThoiKhoaBieu VALUES('TK0303','2025-02-06','Tiet4','Tiet6','LHP01','B202','2001215603','GV06');
INSERT INTO ThoiKhoaBieu VALUES('TK0304','2025-02-07','Tiet2','Tiet4','LHP02','D404','2001215603','GV01');
INSERT INTO ThoiKhoaBieu VALUES('TK0401','2025-02-03','Tiet3','Tiet5','LHP06','B202','2001215604','GV05');
INSERT INTO ThoiKhoaBieu VALUES('TK0402','2025-02-05','Tiet3','Tiet5','LHP02','D404','2001215604','GV05');
INSERT INTO ThoiKhoaBieu VALUES('TK0403','2025-02-06','Tiet4','Tiet6','LHP02','E505','2001215604','GV01');
INSERT INTO ThoiKhoaBieu VALUES('TK0404','2025-02-07','Tiet2','Tiet4','LHP08','A101','2001215604','GV06');
INSERT INTO ThoiKhoaBieu VALUES('TK0501','2025-02-03','Tiet5','Tiet7','LHP03','E505','2001215605','GV02');
INSERT INTO ThoiKhoaBieu VALUES('TK0502','2025-02-05','Tiet5','Tiet7','LHP07','C303','2001215605','GV05');
INSERT INTO ThoiKhoaBieu VALUES('TK0503','2025-02-06','Tiet3','Tiet5','LHP04','C303','2001215605','GV03');
INSERT INTO ThoiKhoaBieu VALUES('TK0504','2025-02-07','Tiet3','Tiet5','LHP07','C303','2001215605','GV05');
INSERT INTO ThoiKhoaBieu VALUES('TK0601','2025-02-03','Tiet3','Tiet5','LHP03','D404','2001215606','GV03');
INSERT INTO ThoiKhoaBieu VALUES('TK0602','2025-02-05','Tiet4','Tiet6','LHP04','A101','2001215606','GV04');
INSERT INTO ThoiKhoaBieu VALUES('TK0603','2025-02-06','Tiet3','Tiet5','LHP04','E505','2001215606','GV02');
INSERT INTO ThoiKhoaBieu VALUES('TK0604','2025-02-07','Tiet3','Tiet5','LHP06','E505','2001215606','GV02');
INSERT INTO ThoiKhoaBieu VALUES('TK0701','2025-02-03','Tiet1','Tiet3','LHP01','C303','2001215607','GV06');
INSERT INTO ThoiKhoaBieu VALUES('TK0702','2025-02-05','Tiet4','Tiet6','LHP05','D404','2001215607','GV03');
INSERT INTO ThoiKhoaBieu VALUES('TK0703','2025-02-06','Tiet1','Tiet3','LHP04','B202','2001215607','GV01');
INSERT INTO ThoiKhoaBieu VALUES('TK0704','2025-02-07','Tiet3','Tiet5','LHP07','B202','2001215607','GV03');
INSERT INTO ThoiKhoaBieu VALUES('TK0801','2025-02-03','Tiet3','Tiet5','LHP07','B202','2001215608','GV05');
INSERT INTO ThoiKhoaBieu VALUES('TK0802','2025-02-05','Tiet5','Tiet7','LHP04','C303','2001215608','GV02');
INSERT INTO ThoiKhoaBieu VALUES('TK0803','2025-02-06','Tiet5','Tiet7','LHP06','D404','2001215608','GV02');
INSERT INTO ThoiKhoaBieu VALUES('TK0804','2025-02-07','Tiet3','Tiet5','LHP04','D404','2001215608','GV03');
INSERT INTO ThoiKhoaBieu VALUES('TK0901','2025-02-03','Tiet3','Tiet5','LHP03','B202','2001215609','GV02');
INSERT INTO ThoiKhoaBieu VALUES('TK0902','2025-02-05','Tiet4','Tiet6','LHP04','E505','2001215609','GV02');
INSERT INTO ThoiKhoaBieu VALUES('TK0903','2025-02-06','Tiet2','Tiet4','LHP03','E505','2001215609','GV04');
INSERT INTO ThoiKhoaBieu VALUES('TK0904','2025-02-07','Tiet3','Tiet5','LHP03','A101','2001215609','GV06');
INSERT INTO ThoiKhoaBieu VALUES('TK1001','2025-02-03','Tiet1','Tiet3','LHP02','C303','2001215610','GV04');
INSERT INTO ThoiKhoaBieu VALUES('TK1002','2025-02-05','Tiet4','Tiet6','LHP05','B202','2001215610','GV05');
INSERT INTO ThoiKhoaBieu VALUES('TK1003','2025-02-06','Tiet1','Tiet3','LHP04','D404','2001215610','GV01');
INSERT INTO ThoiKhoaBieu VALUES('TK1004','2025-02-07','Tiet3','Tiet5','LHP03','A101','2001215610','GV06');
INSERT INTO ThoiKhoaBieu VALUES('TK1101','2025-02-03','Tiet1','Tiet3','LHP01','D404','2001215611','GV03');
INSERT INTO ThoiKhoaBieu VALUES('TK1102','2025-02-05','Tiet4','Tiet6','LHP06','E505','2001215611','GV05');
INSERT INTO ThoiKhoaBieu VALUES('TK1103','2025-02-06','Tiet4','Tiet6','LHP04','A101','2001215611','GV03');
INSERT INTO ThoiKhoaBieu VALUES('TK1104','2025-02-07','Tiet1','Tiet3','LHP01','B202','2001215611','GV01');
INSERT INTO ThoiKhoaBieu VALUES('TK1201','2025-02-03','Tiet1','Tiet3','LHP06','C303','2001215612','GV06');
INSERT INTO ThoiKhoaBieu VALUES('TK1202','2025-02-05','Tiet3','Tiet5','LHP07','E505','2001215612','GV06');
INSERT INTO ThoiKhoaBieu VALUES('TK1203','2025-02-06','Tiet2','Tiet4','LHP04','D404','2001215612','GV03');
INSERT INTO ThoiKhoaBieu VALUES('TK1204','2025-02-07','Tiet3','Tiet5','LHP08','B202','2001215612','GV06');
INSERT INTO ThoiKhoaBieu VALUES('TK1301','2025-02-03','Tiet5','Tiet7','LHP01','C303','2001215613','GV05');
INSERT INTO ThoiKhoaBieu VALUES('TK1302','2025-02-05','Tiet4','Tiet6','LHP08','A101','2001215613','GV05');
INSERT INTO ThoiKhoaBieu VALUES('TK1303','2025-02-06','Tiet3','Tiet5','LHP05','D404','2001215613','GV06');
INSERT INTO ThoiKhoaBieu VALUES('TK1304','2025-02-07','Tiet1','Tiet3','LHP05','D404','2001215613','GV03');
INSERT INTO ThoiKhoaBieu VALUES('TK1401','2025-02-03','Tiet5','Tiet7','LHP02','A101','2001215614','GV04');
INSERT INTO ThoiKhoaBieu VALUES('TK1402','2025-02-05','Tiet4','Tiet6','LHP06','C303','2001215614','GV02');
INSERT INTO ThoiKhoaBieu VALUES('TK1403','2025-02-06','Tiet3','Tiet5','LHP08','C303','2001215614','GV04');
INSERT INTO ThoiKhoaBieu VALUES('TK1404','2025-02-07','Tiet1','Tiet3','LHP08','B202','2001215614','GV05');
INSERT INTO ThoiKhoaBieu VALUES('TK1501','2025-02-03','Tiet4','Tiet6','LHP02','B202','2001215615','GV03');
INSERT INTO ThoiKhoaBieu VALUES('TK1502','2025-02-05','Tiet2','Tiet4','LHP06','C303','2001215615','GV01');
INSERT INTO ThoiKhoaBieu VALUES('TK1503','2025-02-06','Tiet4','Tiet6','LHP02','E505','2001215615','GV03');
INSERT INTO ThoiKhoaBieu VALUES('TK1504','2025-02-07','Tiet2','Tiet4','LHP05','E505','2001215615','GV06');
INSERT INTO ThoiKhoaBieu VALUES('TK1601','2025-02-03','Tiet1','Tiet3','LHP05','B202','2001215616','GV04');
INSERT INTO ThoiKhoaBieu VALUES('TK1602','2025-02-05','Tiet3','Tiet5','LHP02','D404','2001215616','GV06');
INSERT INTO ThoiKhoaBieu VALUES('TK1603','2025-02-06','Tiet3','Tiet5','LHP05','B202','2001215616','GV03');
INSERT INTO ThoiKhoaBieu VALUES('TK1604','2025-02-07','Tiet2','Tiet4','LHP01','D404','2001215616','GV04');
INSERT INTO ThoiKhoaBieu VALUES('TK1701','2025-02-03','Tiet4','Tiet6','LHP06','B202','2001215617','GV01');
INSERT INTO ThoiKhoaBieu VALUES('TK1702','2025-02-05','Tiet2','Tiet4','LHP03','B202','2001215617','GV05');
INSERT INTO ThoiKhoaBieu VALUES('TK1703','2025-02-06','Tiet3','Tiet5','LHP07','D404','2001215617','GV01');
INSERT INTO ThoiKhoaBieu VALUES('TK1704','2025-02-07','Tiet3','Tiet5','LHP06','D404','2001215617','GV02');
INSERT INTO ThoiKhoaBieu VALUES('TK1801','2025-02-03','Tiet3','Tiet5','LHP04','C303','2001215618','GV02');
INSERT INTO ThoiKhoaBieu VALUES('TK1802','2025-02-05','Tiet2','Tiet4','LHP03','D404','2001215618','GV05');
INSERT INTO ThoiKhoaBieu VALUES('TK1803','2025-02-06','Tiet1','Tiet3','LHP04','A101','2001215618','GV05');
INSERT INTO ThoiKhoaBieu VALUES('TK1804','2025-02-07','Tiet1','Tiet3','LHP04','A101','2001215618','GV03');
INSERT INTO ThoiKhoaBieu VALUES('TK1901','2025-02-03','Tiet1','Tiet3','LHP03','E505','2001215619','GV06');
INSERT INTO ThoiKhoaBieu VALUES('TK1902','2025-02-05','Tiet1','Tiet3','LHP04','E505','2001215619','GV04');
INSERT INTO ThoiKhoaBieu VALUES('TK1903','2025-02-06','Tiet4','Tiet6','LHP08','D404','2001215619','GV03');
INSERT INTO ThoiKhoaBieu VALUES('TK1904','2025-02-07','Tiet4','Tiet6','LHP06','C303','2001215619','GV02');
INSERT INTO ThoiKhoaBieu VALUES('TK2001','2025-02-03','Tiet2','Tiet4','LHP05','B202','2001215620','GV05');
INSERT INTO ThoiKhoaBieu VALUES('TK2002','2025-02-05','Tiet5','Tiet7','LHP01','C303','2001215620','GV01');
INSERT INTO ThoiKhoaBieu VALUES('TK2003','2025-02-06','Tiet2','Tiet4','LHP03','D404','2001215620','GV05');
INSERT INTO ThoiKhoaBieu VALUES('TK2004','2025-02-07','Tiet1','Tiet3','LHP03','C303','2001215620','GV03');
INSERT INTO ThoiKhoaBieu VALUES('TK2101','2025-02-03','Tiet2','Tiet4','LHP01','C303','2001215621','GV06');
INSERT INTO ThoiKhoaBieu VALUES('TK2102','2025-02-05','Tiet4','Tiet6','LHP05','D404','2001215621','GV01');
INSERT INTO ThoiKhoaBieu VALUES('TK2103','2025-02-06','Tiet2','Tiet4','LHP01','E505','2001215621','GV05');
INSERT INTO ThoiKhoaBieu VALUES('TK2104','2025-02-07','Tiet2','Tiet4','LHP07','C303','2001215621','GV05');
INSERT INTO ThoiKhoaBieu VALUES('TK2201','2025-02-03','Tiet5','Tiet7','LHP06','D404','2001215622','GV02');
INSERT INTO ThoiKhoaBieu VALUES('TK2202','2025-02-05','Tiet3','Tiet5','LHP06','A101','2001215622','GV02');
INSERT INTO ThoiKhoaBieu VALUES('TK2203','2025-02-06','Tiet4','Tiet6','LHP08','C303','2001215622','GV02');
INSERT INTO ThoiKhoaBieu VALUES('TK2204','2025-02-07','Tiet5','Tiet7','LHP08','B202','2001215622','GV05');
INSERT INTO ThoiKhoaBieu VALUES('TK2301','2025-02-03','Tiet4','Tiet6','LHP04','B202','2001215623','GV06');
INSERT INTO ThoiKhoaBieu VALUES('TK2302','2025-02-05','Tiet2','Tiet4','LHP02','B202','2001215623','GV03');
INSERT INTO ThoiKhoaBieu VALUES('TK2303','2025-02-06','Tiet5','Tiet7','LHP02','A101','2001215623','GV04');
INSERT INTO ThoiKhoaBieu VALUES('TK2304','2025-02-07','Tiet3','Tiet5','LHP08','C303','2001215623','GV06');
INSERT INTO ThoiKhoaBieu VALUES('TK2401','2025-02-03','Tiet5','Tiet7','LHP07','C303','2001215624','GV02');
INSERT INTO ThoiKhoaBieu VALUES('TK2402','2025-02-05','Tiet1','Tiet3','LHP02','E505','2001215624','GV02');
INSERT INTO ThoiKhoaBieu VALUES('TK2403','2025-02-06','Tiet1','Tiet3','LHP06','A101','2001215624','GV02');
INSERT INTO ThoiKhoaBieu VALUES('TK2404','2025-02-07','Tiet4','Tiet6','LHP03','A101','2001215624','GV02');
INSERT INTO ThoiKhoaBieu VALUES('TK2501','2025-02-03','Tiet2','Tiet4','LHP08','B202','2001215625','GV02');
INSERT INTO ThoiKhoaBieu VALUES('TK2502','2025-02-05','Tiet1','Tiet3','LHP03','D404','2001215625','GV03');
INSERT INTO ThoiKhoaBieu VALUES('TK2503','2025-02-06','Tiet4','Tiet6','LHP01','E505','2001215625','GV04');
INSERT INTO ThoiKhoaBieu VALUES('TK2504','2025-02-07','Tiet5','Tiet7','LHP02','E505','2001215625','GV02');
INSERT INTO ThoiKhoaBieu VALUES('TK2601','2025-02-03','Tiet2','Tiet4','LHP01','E505','2001215626','GV03');
INSERT INTO ThoiKhoaBieu VALUES('TK2602','2025-02-05','Tiet1','Tiet3','LHP04','C303','2001215626','GV03');
INSERT INTO ThoiKhoaBieu VALUES('TK2603','2025-02-06','Tiet1','Tiet3','LHP02','A101','2001215626','GV03');
INSERT INTO ThoiKhoaBieu VALUES('TK2604','2025-02-07','Tiet5','Tiet7','LHP02','E505','2001215626','GV02');
INSERT INTO ThoiKhoaBieu VALUES('TK2701','2025-02-03','Tiet5','Tiet7','LHP03','E505','2001215627','GV01');
INSERT INTO ThoiKhoaBieu VALUES('TK2702','2025-02-05','Tiet5','Tiet7','LHP04','C303','2001215627','GV04');
INSERT INTO ThoiKhoaBieu VALUES('TK2703','2025-02-06','Tiet3','Tiet5','LHP02','A101','2001215627','GV06');
INSERT INTO ThoiKhoaBieu VALUES('TK2704','2025-02-07','Tiet5','Tiet7','LHP03','E505','2001215627','GV06');
INSERT INTO ThoiKhoaBieu VALUES('TK2801','2025-02-03','Tiet4','Tiet6','LHP01','D404','2001215628','GV02');
INSERT INTO ThoiKhoaBieu VALUES('TK2802','2025-02-05','Tiet1','Tiet3','LHP05','D404','2001215628','GV01');
INSERT INTO ThoiKhoaBieu VALUES('TK2803','2025-02-06','Tiet3','Tiet5','LHP07','A101','2001215628','GV01');
INSERT INTO ThoiKhoaBieu VALUES('TK2804','2025-02-07','Tiet4','Tiet6','LHP06','C303','2001215628','GV02');
INSERT INTO ThoiKhoaBieu VALUES('TK2901','2025-02-03','Tiet2','Tiet4','LHP02','C303','2001215629','GV04');
INSERT INTO ThoiKhoaBieu VALUES('TK2902','2025-02-05','Tiet4','Tiet6','LHP06','A101','2001215629','GV04');
INSERT INTO ThoiKhoaBieu VALUES('TK2903','2025-02-06','Tiet2','Tiet4','LHP07','A101','2001215629','GV04');
INSERT INTO ThoiKhoaBieu VALUES('TK2904','2025-02-07','Tiet2','Tiet4','LHP02','E505','2001215629','GV04');
INSERT INTO ThoiKhoaBieu VALUES('TK3001','2025-02-03','Tiet1','Tiet3','LHP05','E505','2001215630','GV05');
INSERT INTO ThoiKhoaBieu VALUES('TK3002','2025-02-05','Tiet3','Tiet5','LHP06','E505','2001215630','GV01');
INSERT INTO ThoiKhoaBieu VALUES('TK3003','2025-02-06','Tiet3','Tiet5','LHP05','E505','2001215630','GV03');
INSERT INTO ThoiKhoaBieu VALUES('TK3004','2025-02-07','Tiet4','Tiet6','LHP08','D404','2001215630','GV01');
-- Insert into BangTin
INSERT INTO BangTin VALUES('TB01', 'Lịch Thi Giữa Kỳ', 'Lịch thi giữa kỳ được công bố ngày 15/03', '2025-02-20', 'GV06', 'TatCa');
INSERT INTO BangTin VALUES('TB02', 'Bảo trì Hệ Thống', 'Hệ thống đăng ký sẽ bảo trì ngày 01/03', '2025-02-25', 'GV05', 'SinhVien');
INSERT INTO BangTin VALUES('TB03', 'Hội Thảo AI', 'Mời tham gia hội thảo AI ngày 10/04', '2025-03-01', 'GV01', 'TatCa');

-- Insert into DangKyLichDay
INSERT INTO DangKyLichDay VALUES('DK001','GV04','LHP01','2025-01-03','TuChoi');
INSERT INTO DangKyLichDay VALUES('DK002','GV06','LHP02','2025-01-04','ChapNhan');
INSERT INTO DangKyLichDay VALUES('DK003','GV03','LHP03','2025-01-05','ChoDuyet');
INSERT INTO DangKyLichDay VALUES('DK004','GV01','LHP04','2025-01-06','ChapNhan');
INSERT INTO DangKyLichDay VALUES('DK005','GV06','LHP05','2025-01-07','ChoDuyet');
INSERT INTO DangKyLichDay VALUES('DK006','GV03','LHP06','2025-01-08','TuChoi');
-- Insert into PhanCongGiangVien
INSERT INTO PhanCongGiangVien VALUES('PC001','GV06','LHP01','2025-01-03');
INSERT INTO PhanCongGiangVien VALUES('PC002','GV02','LHP02','2025-01-04');
INSERT INTO PhanCongGiangVien VALUES('PC003','GV02','LHP03','2025-01-05');
INSERT INTO PhanCongGiangVien VALUES('PC004','GV05','LHP04','2025-01-06');
INSERT INTO PhanCongGiangVien VALUES('PC005','GV05','LHP05','2025-01-07');
INSERT INTO PhanCongGiangVien VALUES('PC006','GV06','LHP06','2025-01-08');
INSERT INTO PhanCongGiangVien VALUES('PC007','GV04','LHP07','2025-01-09');
INSERT INTO PhanCongGiangVien VALUES('PC008','GV05','LHP08','2025-01-10');


DELIMITER //
-- proc xem thời khóa biểu
CREATE PROCEDURE sp_view_tkb(IN p_maSV VARCHAR(20))
BEGIN
  SELECT
    mh.tenMH                          AS `Tên môn`,
    thk.maLopHP                       AS `Mã lớp HP`,
    CONCAT(thk.tietBD, '→', thk.tietKT) AS `Tiết`,
    thk.phongHoc                      AS `Địa điểm`,
    gv.hoTen                          AS `Giảng viên`
  FROM ThoiKhoaBieu AS thk
  JOIN LopHocPhan   AS lhp ON thk.maLopHP = lhp.maLopHP
  JOIN MonHoc       AS mh  ON lhp.maMH     = mh.maMH
  JOIN GiangVien    AS gv  ON thk.maGV      = gv.maGV
  WHERE thk.maSV = p_maSV
  ORDER BY thk.ngayHoc, thk.tietBD;
END;
//
DELIMITER ;

-- fix lỗi ghi log
ALTER TABLE LichSuThayDoiYeuCau
  MODIFY cotTrangThaiCu ENUM('1_GiaoVuNhan', '2_TBMNhan', '3_TruongKhoaNhan', '4_ChoMoLop'),
  MODIFY cotTrangThaiMoi ENUM('1_GiaoVuNhan', '2_TBMNhan', '3_TruongKhoaNhan', '4_ChoMoLop');
  
-- proc update trang thai phieu mo lop
DELIMITER $$

CREATE TRIGGER trg_auto_update_trangThai_before_insert
BEFORE INSERT ON YeuCauMoLop
FOR EACH ROW
BEGIN
    IF NEW.soLuongThamGia >= 30
       AND NEW.trangThaiXuLy = '0_ChuaGui' THEN
        SET NEW.trangThaiXuLy = '1_GiaoVuNhan';
        SET NEW.tinhTrangTongQuat = 'DaGui';
    END IF;
END$$

DELIMITER ;

DELIMITER $$

CREATE TRIGGER trg_auto_update_trangThai_before_update
BEFORE UPDATE ON YeuCauMoLop
FOR EACH ROW
BEGIN
    IF NEW.soLuongThamGia >= 30
       AND NEW.trangThaiXuLy = '0_ChuaGui' THEN
        SET NEW.trangThaiXuLy = '1_GiaoVuNhan';
        SET NEW.tinhTrangTongQuat = 'DaGui';
    END IF;
END$$

DELIMITER ;

